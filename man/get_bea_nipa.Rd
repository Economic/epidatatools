% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bea.R
\name{get_bea_nipa}
\alias{get_bea_nipa}
\title{Retrieve NIPA data from the BEA API}
\usage{
get_bea_nipa(
  tables,
  years,
  frequency = c("year", "quarter", "month"),
  underlying = FALSE,
  metadata = FALSE,
  bea_api_key = Sys.getenv("BEA_API_KEY")
)
}
\arguments{
\item{tables}{Character vector of NIPA table names (e.g., "T10101", "T20305"). Can be a named vector to add custom names.}

\item{years}{Numeric vector of years or "ALL" for all available years}

\item{frequency}{Character string: "year" (annual), "quarter" (quarterly), or "month" (monthly). Can specify multiple as comma-separated string.}

\item{underlying}{Logical flag to use NIUnderlyingDetail dataset instead of NIPA (default: FALSE)}

\item{metadata}{Logical flag to return additional metadata columns (default: FALSE)}

\item{bea_api_key}{BEA API key (defaults to BEA_API_KEY environment variable)}
}
\value{
A tibble with columns: table_name, table_description, line_number, line_description, date_frequency, date, value, and date variables (year, quarter, month) appropriate to the frequency of data returned. Annual data includes only year; quarterly data includes year and quarter; monthly data includes year, quarter, and month. If metadata = TRUE, also includes unit_mult, metric_name, cl_unit, series_code, and note_text (list column). If tables is a named vector, includes a "name" column as the first column.
}
\description{
Retrieves National Income and Product Accounts data from the
\href{https://apps.bea.gov/API/signup/}{Bureau of Economic Analysis API}.
Requires a BEA API key saved in the \code{BEA_API_KEY} environment variable.
}
\examples{
\dontshow{if (nzchar(Sys.getenv("BEA_API_KEY"))) withAutoprint(\{ # examplesIf}
# Get quarterly GDP data
get_bea_nipa("T10101", years = 2020:2024, frequency = "quarter")

# Get annual data for multiple tables
get_bea_nipa(c("T10101", "T20305"), years = "ALL", frequency = "year")

# Use named vector to add custom names
get_bea_nipa(
  c("gdp" = "T10101", "personal_income" = "T20305"),
  years = 2023:2024,
  frequency = "year"
)

# Get data with additional metadata
get_bea_nipa("T10101", years = 2023, frequency = "year", metadata = TRUE)
\dontshow{\}) # examplesIf}
}
